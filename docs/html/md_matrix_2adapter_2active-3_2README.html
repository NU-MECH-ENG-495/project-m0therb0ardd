<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LED Color Evolution: Adapter PCB to support up to 3 panel chains</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LED Color Evolution
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Adapter PCB to support up to 3 panel chains</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Supports up to three panel chains for newer plus models and Raspberry Pi 2 that have 40 GPIO pins.</li>
<li>Uses HCT245 to level shift signals from 3.3V to 5V and shield the Raspberry Pi GPIOs from overloading.</li>
<li>Open source KiCAD PCB EDA format.</li>
<li>Optional: Pads to power the Pi with 5V, including optional capacitor footprints.</li>
<li>Connector for RxD input (literally the only GPIO pin left) in case you want to make your panel controlled with a serial interface (3.3V logic level).</li>
<li>Provides a way to choose the pinout for different kinds of 64x64 matrixes.</li>
<li>(not very pretty layout, was just lazy and let the auto-router generate the first pass)</li>
<li>BOM:<ul>
<li>4x 74HCT245 or 74AHCT245 in 20-SOIC, 7.5mm package which should make it easy to hand-solder. Make sure to get the variant with the <b>T</b>: HC**T** or AHC**T** (there are also HC or AHC, don't use these).</li>
<li>4x 100nF ceramic capacitor (0805 package)</li>
<li>1x 10kOhm resistor (0805 package). Not critcial, just a pullup (2.2k .. 15k probably ok).</li>
<li>3x 16pin IDC (=2x8) male receptible to connect the panels.</li>
<li>1x 40pin female connector to connect to the RPi.</li>
<li>1x (optional) 22μF .. 100μF capacitor for 5V rail (either 1206 SMD or radial electrolytic with 2.5mm pitch/6.3mm diameter)</li>
</ul>
</li>
<li>The Gerber FAB files are provided as <a href="./active3-rpi-hub75-adapter-fab.zip">active3-rpi-hub75-adapter-fab.zip</a></li>
</ul>
<p>The board is also <a href="https://oshpark.com/shared_projects/6xAD1VXr">shared on OSH Park</a> (not affiliated).</p>
<p><img src="../../img/active3-pcb.png" alt="Preview" class="inline"/> <img src="../../img/three-parallel-panels-soic.jpg" alt="Real World" class="inline"/></p>
<p>Essentially, this is connecting the output pins through level shifting buffers (they are operated at 5V, but the HCT series chips accept 3.3V input levels from the Pi). The strobe, OE and clock signals are separately buffered for each connector.</p>
<p><img src="../../img/active3-schematic.png" alt="Schematic" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Optional</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
Power in</h2>
<p>The area on the left has 5V/GND input pads, that allow you to power your Raspberry Pi from a 5V source ... which you are likely to have as you are powering the LED Matrix. This is often more convenient than using the USB connector to power the Pi.</p>
<p>If you do that, there are pads to add a capacitor to smooth the supply - two footprints are provided: C5 and C6 for through-hole or surface mount components. The value is not critical; I usually use a 22μF/6.3V ceramic capacitor on the C6 pads.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Choose E-Line for 64x64 panels with 1:32 multiplexing</h2>
<p>If you have a 64x64 matrix with 1:32 multiplexing, you need to supply an <code>E</code>-address line to it. While the Address lines <code>A</code> to <code>D</code> have fixed positions on the Hub75 connector, there seem to be two different ways to connect the <code>E</code> address line: it is either on pin 4 or pin 8 of the connector. So this adapter board provides the flexibility to choose the right pin for your matrix.</p>
<p>Look at the back of the matrix or the documentation to find out for your specific board where to connect E.</p>
<p>Once you know that, the jumper area in the bottom left of this adapter board allows to choose to which pin to connect the E-address line to. The corresponding other pin should be connected to GND. Simply solder a wire bridge as indicated below (or use a jumper that you can change later).</p>
<p>If you are not using such 64x64 matrix, you can connect both these pins to GND.</p>
<p>Here are the typical configurations:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">No 1:32 64x64: to GND   </th><th class="markdownTableHeadNone">E-Line on Pin 4   </th><th class="markdownTableHeadNone">E-Line on Pin 8    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="../../img/active3-pcb-config-default.png" alt="" class="inline"/>   </td><td class="markdownTableBodyNone"><img src="../../img/active3-pcb-config-pin4.png" alt="" class="inline"/>   </td><td class="markdownTableBodyNone"><img src="../../img/active3-pcb-config-pin8.png" alt="" class="inline"/>   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md7"></a>
Input for serial RxD</h2>
<p>If you are not using a 64x64 display that occupies the E-Line, you can use the RxD serial input - this might come in handy if you are using the display to be controlled by a serial line. Be aware that the input requires 3.3V level, so if you have a RS232, make sure to first adapt the levels. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
